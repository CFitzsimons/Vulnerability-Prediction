using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using VulnerabilityPrediction.Formatting;
using VulnerabilityPrediction.Logging;

namespace VulnerabilityPrediction
{
    class Program
    {
        public static void Main()
        {
            Dictionary<string, int> pairs = new Dictionary<string, int>();
            //HashSet<string> set = new HashSet<string>();
            //int count = 0;
            using (CsvReader reader = new CsvReader("Data Stores/exploitDB.csv"))
            {
                foreach (string[] values in reader.RowEnumerator)
                {
                    var extract = values[5];
                    if (!pairs.ContainsKey(extract))
                    {
                        pairs.Add(extract, 0);
                    }
                    else
                    {
                        pairs[extract]++;
                    }
                }
            }
            var items = from pair in pairs orderby pair.Value descending select pair;
            foreach (KeyValuePair<string, int> pair in items)
            {
                Console.WriteLine("{0}: {1}", pair.Key, pair.Value);
            }
            Console.ReadLine();
            //foreach (var item in set)
            //{
            //    Console.WriteLine(item);
            //    Console.ReadLine();
            //}
        }
    }
}
